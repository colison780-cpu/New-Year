<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KA WhatsApp</title>

<style>
body{margin:0;background:#0b141a;font-family:system-ui;}
.app{max-width:420px;height:100vh;margin:auto;background:#111b21;color:#fff;display:flex;flex-direction:column;}
.topbar{background:#202c33;padding:12px;font-weight:600;}
.chat{display:flex;padding:12px;border-bottom:1px solid #222;cursor:pointer;}
.avatar{width:44px;height:44px;border-radius:50%;background:#2a3942;display:flex;align-items:center;justify-content:center;margin-right:10px;font-weight:bold;}
.chatScreen{display:none;flex-direction:column;height:100%;}
.chatHeader{background:#202c33;padding:10px;display:flex;align-items:center;}
.back{cursor:pointer;margin-right:10px;}
.messages{flex:1;padding:10px;background:url("https://i.imgur.com/w5rkSIj.jpg");background-size:cover;overflow-y:auto;}
.msg{max-width:70%;padding:8px 10px;border-radius:8px;margin-bottom:6px;}
.me{background:#005c4b;margin-left:auto;}
.other{background:#202c33;}
.time{font-size:10px;opacity:.6;text-align:right;}
.inputBar{background:#202c33;padding:8px;display:flex;}
.inputBar input{flex:1;padding:10px;border:none;border-radius:20px;outline:none;}
.inputBar button{margin-left:6px;border:none;background:#00a884;color:#fff;padding:10px 14px;border-radius:50%;}
</style>
</head>

<body>
<div class="app">

<div id="chatList">
  <div class="topbar">WhatsApp</div>

  <div class="chat" onclick="openChat('KA')">
    <div class="avatar">KA</div>
    <div><b>KA</b><br><small>Online</small></div>
  </div>

  <div class="chat" onclick="openChat('Gauri')">
    <div class="avatar">G</div>
    <div><b>Gauri</b><br><small>Last seen recently</small></div>
  </div>
</div>

<div id="chatScreen" class="chatScreen">
  <div class="chatHeader">
    <span class="back" onclick="goBack()">‚Üê</span>
    <span id="chatTitle"></span>
  </div>

  <div id="messages" class="messages"></div>

  <div class="inputBar">
    <input id="msgInput" placeholder="Type a message">
    <button onclick="sendMsg()">‚û§</button>
  </div>
</div>

</div>

<script>
let currentChat="";

function openChat(name){
  currentChat=name;
  chatList.style.display="none";
  chatScreen.style.display="flex";
  chatTitle.innerText=name;
  messages.innerHTML="";
  addMessage("Hi","other");
}

function goBack(){
  chatScreen.style.display="none";
  chatList.style.display="block";
}

function sendMsg(){
  let text=msgInput.value.trim();
  if(!text) return;
  addMessage(text,"me");
  msgInput.value="";
  setTimeout(()=>addMessage(humanReply(text),"other"),600);
}

function humanReply(msg){
  msg = msg.toLowerCase();

  // DEAD WORD
  if(msg.includes("dead")){
    return "r u idiot";
  }

  // HI / HELLO
  if(/^(hi|hello|hey)$/.test(msg)){
    return currentChat==="Gauri" ? "khelegi" : "khelega";
  }

  // WHAT DOING
  if(/kya kar|what are you doing|wyd/.test(msg)){
    return pick([
      "Nothing",
      "I'm busy",
      "I'm always busy",
      "Bas kaam hi kaam"
    ]);
  }

  // I'M GOOD
  if(/i'?m good|good|fine/.test(msg)){
    return "Nice";
  }

  // YES
  if(/^(yes|haan|ha)$/.test(msg)){
    return "OK";
  }

  // MARKS
  if(/marks|kitne marks/.test(msg)){
    return currentChat==="Gauri"
      ? "Theek aaye üòÖ"
      : "Bas pass ho gaya üòÇ";
  }

  // DEFAULT (GENDER LOGIC)
  return currentChat==="Gauri"
    ? pick(["Samjhi","Hmm","Achha","Theek hai"])
    : pick(["Samjha","Hmm","Theek hai","Sahi hai"]);
}

function pick(arr){
  return arr[Math.floor(Math.random()*arr.length)];
}

function addMessage(text,type){
  let d=document.createElement("div");
  d.className="msg "+type;
  d.innerHTML = `${text}<div class="time">${
    new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})
  }</div>`;
  messages.appendChild(d);
  messages.scrollTop = messages.scrollHeight;
}
</script>

</body>
</html>
