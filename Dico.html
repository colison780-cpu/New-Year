<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>KA WhatsApp</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;background:#ece5dd;font-family:Arial}
.app{max-width:420px;margin:auto;height:100vh;background:#fff;display:flex;flex-direction:column}
.header{background:#075e54;color:#fff;padding:10px;font-weight:bold}
.chat-item{padding:15px;border-bottom:1px solid #eee;cursor:pointer}
.chat-item:hover{background:#f4f4f4}
.chat-screen{display:none;flex-direction:column;height:100%}
.chat-header{background:#075e54;color:#fff;padding:10px;display:flex;justify-content:space-between}
.messages{
flex:1;
padding:10px;
background:url("https://i.imgur.com/2ZQ7ZzT.jpg");
background-size:cover;
overflow-y:auto
}
.msg{max-width:70%;padding:8px 10px;border-radius:6px;margin:6px 0;font-size:14px}
.me{background:#dcf8c6;margin-left:auto}
.other{background:#fff}
.time{font-size:10px;opacity:.6;text-align:right}
.typing{font-size:12px;color:#555;margin-left:10px}
.input{display:flex;padding:8px;background:#f0f0f0}
.input input{flex:1;padding:8px;border-radius:20px;border:1px solid #ccc}
.input button{margin-left:6px;border:none;background:#075e54;color:#fff;padding:8px 12px;border-radius:50%}
</style>
</head>

<body>

<div class="app">
<div class="header">KA WhatsApp</div>

<div id="list">
<div class="chat-item" onclick="openChat('KA')">KA</div>
<div class="chat-item" onclick="openChat('Gauri')">Gauri</div>
</div>

<div class="chat-screen" id="chat">
<div class="chat-header">
<span onclick="back()">â¬…</span>
<span id="title"></span>
<span>ðŸ“ž</span>
</div>

<div class="messages" id="msgs"></div>
<div class="typing" id="typing" style="display:none"></div>

<div class="input">
<input id="input" placeholder="Type a message">
<button onclick="send()">âž¤</button>
</div>
</div>
</div>

<script>
let currentChat="";
let lastMsg=null;

function openChat(name){
currentChat=name;
title.innerText=name;
list.style.display="none";
chat.style.display="flex";
msgs.innerHTML="";
addOther("Hey ðŸ™‚");
}

function back(){
chat.style.display="none";
list.style.display="block";
}

function send(){
let text=input.value.trim();
if(!text) return;
lastMsg = addMe(text);
input.value="";
typing.innerText=currentChat+" is typing...";
typing.style.display="block";
setTimeout(()=>{
typing.style.display="none";
markSeen();
addOther(reply(text));
},900);
}

function addMe(t){
let d=document.createElement("div");
d.className="msg me";
d.innerHTML=`${t}<div class="time">âœ“</div>`;
msgs.appendChild(d);
msgs.scrollTop=msgs.scrollHeight;
return d;
}

function markSeen(){
if(lastMsg) lastMsg.querySelector(".time").innerText="âœ“âœ“";
}

function addOther(t){
let d=document.createElement("div");
d.className="msg other";
d.innerHTML=`${t}<div class="time">${time()}</div>`;
msgs.appendChild(d);
msgs.scrollTop=msgs.scrollHeight;
}

function time(){
return new Date().toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'});
}

function reply(msg){
msg=msg.toLowerCase();
const pick=a=>a[Math.floor(Math.random()*a.length)];

if(msg.includes("dead")) return "r u idiot";

if(msg==="i am king" && currentChat==="Gauri")
return "aap to mahan hai king KA";

if(msg==="who are you mister" && currentChat==="KA")
return "I am a king";

if(/^(hi|hello|hey)$/.test(msg))
return currentChat==="Gauri"?"khelega?":"khelegi?";

if(/how are you|kya haal/.test(msg))
return currentChat==="Gauri"?"achhi hoon ðŸ˜Š":"badhiya bhai";

if(/acha/.test(msg))
return currentChat==="Gauri"?"samjhi":"samjha";

if(/i'?m good|good|fine/.test(msg))
return "nice";

if(/yes|haan/.test(msg))
return "ok";

if(/what are you doing|kya kar/.test(msg))
return pick(["nothing","busy hoon","I'm always busy"]);

if(/marks|kitne marks/.test(msg))
return pick(["theek aaye","average","bas pass"]);

return currentChat==="Gauri"
? pick(["theek hai","hmm","samjhi"])
: pick(["sahi hai","hmm","samjha"]);
}
</script>

</body>
</html>
